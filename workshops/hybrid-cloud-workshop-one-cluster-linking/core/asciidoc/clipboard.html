<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<style>
 
 .listingblock:hover .clipboard {
  opacity: 1;
 }

 .clipboard {
  opacity: 0;
     padding: 2px 6px;
     border: 1px solid #d5d5d5;
     font-size: 13px;
     white-space: nowrap;
     font-weight: 500;
     -webkit-appearance: button;
     color: #999;
     line-height: 20px;
     cursor: pointer;
     position: absolute;
     vertical-align: middle;
     background-color: #eee;
     background-image: linear-gradient(#fcfcfc,#eee);
     border-radius: 3px;
     background-repeat: no-repeat;
     top: .85rem !important;
     right: 0.85rem;
     transition: opacity .25s cubic-bezier(0.4, 0, 1, 1);
 }

.clippy {
    margin-top: -10px;
    position: relative;
    top: 3px;
    left: 1px;
}

.clipboard:hover {
  background-image: linear-gradient(#eee,#d3d4d4);
}

.clipboard:active,.clipboard.selected,.clipboard.zeroclipboard-is-active {
    background-color: #dcdcdc;
    background-image: none;
    border-color: #b5b5b5;
    box-shadow: inset 0 2px 4px rgba(0,0,0,.15)
}

</style>
<script>
 $(function() {
     var pre = document.getElementsByTagName('pre');
     for (var i = 0; i < pre.length; i++) {
         var b = document.createElement('button');
         b.innerHTML = '<img class="clippy" src="images/clippy.svg" alt="Copy to clipboard">';
         b.setAttribute('data-clipboard-text', pre[i].textContent);
         b.className = 'clipboard';
         pre[i].appendChild(b);
     }
     new ClipboardJS('.clipboard', {
         target: function(b) {
             var p = b.parentNode;
             return p.className.includes("highlight")
                  ? p.getElementsByClassName("code")[0]
                  : p.childNodes[0];
         }
     })
 });
</script>
<style>